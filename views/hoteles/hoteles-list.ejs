<div ng-controller="HotelController">
<input type="hidden"  ng-init="searchId = '<%=ciudad.id%>'">
<input type="hidden"  ng-init="ciudadName = '<%=ciudad.name%>'">
    <!-- Section Title-->
    <div class="section-title-01">
        <!-- Parallax Background -->
        <div class="bg_parallax" style='background: url("img/yp-backgrounds/ACA/Hoteles en Acapulco.jpg");
  background-size: 100% 450px;'></div>
        <!-- Parallax Background -->

        <!-- Content Parallax-->
        <div class="opacy_bg_02">
            <div class="container">
                <h1>Hoteles en <%=ciudad.name%></h1>
                <div class="crumbs">
                    <!-- ChildView - Destination Review -->
                    <div ui-view></div>
                    <!-- End ChildView - Destination Review -->
                </div>
            </div>
        </div>
        <!-- End Content Parallax-->
    </div>




    <!-- End Section Title-->

    <!--Content Central -->
    <section class="content-central">
        <div class="content_info">
        <div class="container">
        <div class="row">
             <div class="col-md-3  col-lg-3 ">
                                <div class="container-by-widget-filter bg-dark color-white">


                                    <!-- Widget Filter Price Range-->
                                    <aside class="widget padding-top-mini">
                                        <h3 class="title-widget">Aplica un Filtro</h3>
                                        <h4>Nombre:</h4>
                                        <input type="text" class="form-control" ng-model="buscar.nombre.name" placeholder="Nombre del hotel">
                                        <hr class="separator">
                                        <h4>Número de salones:</h4>
                                        <input type="number" class="form-control" ng-model="buscar.salones" placeholder="Número mayor a">
                                        <hr class="separator">
                                        <h4>Número de habitaciones:</h4>
                                        <input type="number" class="form-control" ng-model="buscar.habitaciones" placeholder="Número mayor a">
                                        <hr class="separator">
                                        <h4>Tipo de plan:</h4>
                                        <select class="form-control" ng-model="buscar.plan" ng-init="buscar.plan = default">
                                          <option value="default" selected> Cualquiera </option>
                                          <option value="Todo Incluido">Todo Incluido</option>
                                          <option value="Europeo">Europeo</option>
                                        </select>
                                    </aside>
                                    <!-- End Widget Filter Price Range-->

                                    <!-- Widget Filter Stars-->
                                    <aside class="widget">
                                        <h4>Estrellas:</h4>
                                        <ul class="starts">
                                            <li><input type="checkbox" ng-model="buscar.fivestar" ng-init="buscar.fivestar = true"></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><span>5 estrellas</span></li>
                                        </ul>

                                        <ul class="starts">
                                            <li><input type="checkbox" ng-model="buscar.fourstar" ng-init="buscar.fourstar = true"></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><span>4 estrellas</span></li>
                                        </ul>

                                        <ul class="starts">
                                            <li><input type="checkbox" ng-model="buscar.threestar" ng-init="buscar.threestar = true"></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><span>3 estrellas</span></li>
                                        </ul>

                                        <ul class="starts">
                                            <li><input type="checkbox" ng-model="buscar.twostar" ng-init="buscar.twostar = true"></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><a><i class="fa fa-star-o"></i></a></li>
                                            <li><span>2 estrellas</span></li>
                                        </ul>

                                        <ul class="starts">
                                            <li><input type="checkbox" ng-model="buscar.onestar" ng-init="buscar.onestar = true"></li>
                                            <li><a href="#"><i class="fa fa-star"></i></a></li>
                                            <li><a href="#"><i class="fa fa-star-o"></i></a></li>
                                            <li><a href="#"><i class="fa fa-star-o"></i></a></li>
                                            <li><a href="#"><i class="fa fa-star-o"></i></a></li>
                                            <li><a href="#"><i class="fa fa-star-o"></i></a></li>
                                            <li><span>1 estrellas</span></li>
                                        </ul>
                                    </aside>
                                    <!-- End Widget Filter Stars-->
                                    <aside class="widget" style="text-align: center;">
                                      <button type="button" class="btn btn-primary" style="width: 80%;" ng-click="buscarTodos(buscar)">Buscar</button>
                                    </aside>
                                </div>
                            </div>

            <!-- Hoteles Angular -->
            <div class="col-md-9  col-sm-12 col-lg-9" ng-init="loadNewHoteles()">
              <div class="loader" ng-show="cargandoBusqueda"></div>
              <br>
              <div class="col-xs-12 col-sm-6 col-md-4"  ng-click="selectResult(hotel.id)" ng-repeat="hotel in hotelesNew | filter:buscar.nombre | filter:filterStar(buscar) | filter:filterSalones(buscar.salones) | filter:filterHabitaciones(buscar.habitaciones) | filter:filterPlan(buscar.plan)">
                   <div class="img-hover">
                      <img ng-src="{{(hotel.fotoPrincipal!=null?hotel.fotoPrincipal:hotel.pictures[0])}}" alt="" class="img-responsive"  style="width: 100%;height: 166px">
                  </div>
                  <div class="info-gallery">
                      <h3 style="height: 3em;overflow: hidden;">
                          <div>{{hotel.name}}</div>
                      </h3>
                      <h3><span style="white-space: normal"><%=ciudad.name%></span></h3>
                      <hr class="separator">
                      <p style="height:80px;text-align: justify;text-justify: inter-word;font-size:1em; line-height:1.2em;height: 4.8em;overflow: hidden;">{{hotel.description}}</p>

                      <ul class="starts">
                        <li ng-repeat="star in [1, 2, 3, 4 ,5] | limitTo:hotel.starRating"><a href="#"><i class="fa fa-star"></i></a></li>
                      </ul>
                      <!-- Botones -->
                      <div class="row">
                        <div class="col-md-4 col-md-offset-3">
                          <div class="content-btn">
                              <a href="{{hotel.urlslug?hotel.urlslug:hotel.id}}"class="btn btn-primary">Ver Detalles</a>
                          </div>
                        </div>
                        <div class="col-md-1" ng-show="_hasSession">
                          <div class="content-btn" ng-click="addSeleccion(hotel.id)" ng-show="!hotel.inList">
                            <a class="btn btn-primary"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
                <!-- End Item Gallery - Main First Results -->

                <!-- Item Gallery - More Results -->
                <!--
                <div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="hotel in moreHotels" ng-click="selectResult(hotel)">
                    <div class="img-hover">
                        <img ng-src="{{(hotel.fotoPrincipal!=null?hotel.fotoPrincipal:hotel.pictures[0])}}" alt="" class="img-responsive" style="width: 100%;height: 166px">
                    </div>

                    <div class="info-gallery">
                        <h3 style="height: 3em;overflow: hidden;">
                            <div>{{hotel.name}}</div>
                        </h3>
                         <h3><span style="white-space: normal">{{ciudadName}}</span></h3>
                        <hr class="separator">
                            <p style="height:80px;text-align: justify;text-justify: inter-word;font-size:1em; line-height:1.2em;height: 4.8em;overflow: hidden;">{{hotel.description}}</p>
                        <ul class="starts">
                            <li ng-repeat="i in hotel.starRatingRange track by $index"><a href="#"><i class="fa fa-star"></i></a></li>
                        </ul>
                        <div class="row">
                          <div class="col-md-4 col-md-offset-2">
                            <div class="content-btn">
                                <a  href="{{hotel.urlslug?hotel.urlslug:hotel.id}}" class="btn btn-primary">Ver Detalles</a>
                            </div>
                          </div>
                          <div class="col-md-1" style="margin-left: 1.5em;">
                            <div class="content-btn" ng-click="addSeleccion(hotel.id)" ng-show="!hotel.inList">
                              <a class="btn btn-primary"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                            </div>
                          </div>
                        </div>
                    </div>
                </div> -->
            </div>

            <!-- Hoteles server side -->
            <div class="col-md-9  col-sm-1 col-lg-9" ng-hide="true">
            <br>

            	<% hoteles.forEach(function(hotel){ %>



                    <div class="col-xs-12 col-sm-6 col-md-4"  ng-click="selectResult(<%=hotel.id%>)">

                         <div class="img-hover">
                            <img src="<%=(hotel.fotoPrincipal!=null?hotel.fotoPrincipal:hotel.pictures[0])%>" alt="" class="img-responsive"  style="width: 100%;height: 166px">

                        </div>



                        <div class="info-gallery">
                            <h3 style="height: 3em;overflow: hidden;">
                                <div>
                                <%=hotel.name%>
                                </div>

                            </h3>
                            <h3><span style="white-space: normal"><%=ciudad.name%></span></h3>
                            <hr class="separator">
                            <p style="height:80px;text-align: justify;text-justify: inter-word;font-size:1em; line-height:1.2em;height: 4.8em;overflow: hidden;"><%=hotel.description%></p>

                            <ul class="starts">
                            	<% for(var i=0;i<hotel.starRating;i++) { %>
                                	<li><a href="#"><i class="fa fa-star"></i></a></li>
                            	<% } %>
                            </ul>
                            <!-- Botones -->
                            <div class="row">
                              <div class="col-md-4 col-md-offset-3">
                                <div class="content-btn">
                                    <a  href="<%=hotel.urlslug?hotel.urlslug:hotel.id%>"class="btn btn-primary">Ver Detalles</a>
                                </div>
                              </div>
                              <div class="col-md-1">
                                <div class="content-btn" ng-click="addSeleccion(<%=hotel.id%>)" ng-show="!hotel.inList">
                                  <a class="btn btn-primary"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>

                <% }) %>

                <!-- End Item Gallery - Main First Results -->

                <!-- Item Gallery - More Results -->
                <div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="hotel in moreHotels" ng-click="selectResult(hotel)">
                    <div class="img-hover">
                        <img ng-src="{{(hotel.fotoPrincipal!=null?hotel.fotoPrincipal:hotel.pictures[0])}}" alt="" class="img-responsive" style="width: 100%;height: 166px">
                    </div>

                    <div class="info-gallery">
                        <h3 style="height: 3em;overflow: hidden;">
                            <div>{{hotel.name}}</div>
                        </h3>
                         <h3><span style="white-space: normal">{{ciudadName}}</span></h3>
                        <hr class="separator">
                            <p style="height:80px;text-align: justify;text-justify: inter-word;font-size:1em; line-height:1.2em;height: 4.8em;overflow: hidden;">{{hotel.description}}</p>
                        <ul class="starts">
                            <li ng-repeat="i in hotel.starRatingRange track by $index"><a href="#"><i class="fa fa-star"></i></a></li>
                        </ul>
                        <!-- botones -->
                        <div class="row">
                          <div class="col-md-4 col-md-offset-2">
                            <div class="content-btn">
                                <a  href="{{hotel.urlslug?hotel.urlslug:hotel.id}}" class="btn btn-primary">Ver Detalles</a>
                            </div>
                          </div>
                          <div class="col-md-1" style="margin-left: 1.5em;">
                            <div class="content-btn" ng-click="addSeleccion(hotel.id)" ng-show="!hotel.inList">
                              <a class="btn btn-primary"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <!-- End Item Gallery - More Results -->

            </div>

        </div>





        <div class="row" ng-show="showMostrarMas">

            <div class="col-md-12" style="margin: 2em;">
                <button ng-click="masResultados()"  class="btn btn-primary col-md-12" style="width:100%;">Más Resultados</button>
                <img src="img/lblue.gif" style="width:30px;height:30px;margin: 0px auto 0px 48%;" class="ng-hide">
            </div>
        </div>
        </div>
        </div>
    </section>
<!-- End Content Central -->
</div>
